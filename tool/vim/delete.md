如果是空行中没有空格的话, 可以用替换:
:%s/\n\{3,\}/\r\r/
\n 表示换行, \{3,\} 表示三个以上的, 也就是超过两个空行, 替换成两个 \r (换行在替换的时候就是这样, 前面要用 \n, 后面要用 \r)

如果空行中可能用空格的话, 可以先把空格都去除:
:%s/^\s\+$//
然后再用上面的命令

提问者评价

    实践检验是正确的:
    先
    :%s/^\s\+$//
    后
    :%s/\n\{3,\}/\r\r/

今天同事发来一篇格式混乱的文章，让我排一下版。
文章从网络中下载的，里面的空格太多，空行太多，一个一个删除太麻烦，所以可以用vim来处理。

删除空格:
:% s/ //gi    #正则为一个空格，替换为空，全局匹配。

删除空行：
:g /^\n*$/ d  #g为global  正则为：行开始+换行...  其实/^\n/就可以。  d为命令，表示删除。
删除包含特定字符的行：

g/pattern/d   

 

删除不包含指定字符的行：

v/pattern/d

g!/pattern/d

 

现实TAB键以及空格等：

set list!

删除指定的行：

:x,.d #从ｘ行删除到当前行；
:.,xd #从当前行删除到x行；
:x,.+3d #从x行删除到当前行后第三行；
:x,.-1d #从x行删除到当前行前一行。

