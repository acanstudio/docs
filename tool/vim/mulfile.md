常用操作
===========

编辑多个文件
---------------

如果要是在当前窗口编辑另一个文件最简单的办法就是:e xxx.txt，这样做有个缺点就是前一个窗口会关闭，而且如果那个文件修改后还没保存，那么还会发出警告，提示是否强制退出。 如果想编辑新的文件，但是又不想放弃当前的文件，那么你可以先把他变为一个隐藏的缓冲区：:hide e xxx2.txt，xxx2.txt保存退出后，按ENTER又会回到上一个文件来，需要说明的话，如果hide的文件没有修改或修改已经保存，则依然会直接退出。

启动vim时，可以同时打开多个文件：vim a.py b.py c.py ，窗口会显示一个文件，如果想切换到b.py文件，可以用命令：:next，前提是当前的这个文件需要先保存，你也可以用:next!强制切换到b.py，放弃当前的保存工作。向前切换使用:previous,规则与next一样。

其他相似命令：

:last
:first
:wnext
:2next:
:wprevious

不言而喻，很直白。

:args：查看vim打开了哪些文件，当前编辑的是哪个文件。打开另一组文件列表：:args a.java b.java c.java
因为这些文件都是在同一个session中，所以，从a文件中yy（yank复制)一行p（paste)到b文件是没问题的。

替换
-----

vim可以借用正则表达式来实现丰富的替换功能，她的基本语法是：
:[addr]s/源字符串/目的字符串/[option]，我们可以看出addr和option是可以缺省不填的，他们各个字段的意思是：

    [addr]代表检索范围，缺省表示当前行，1，10表示1到10行，%代表整个文件等价于1,$，而.,$代表当前行到文件末尾
    s代表替换的意思
    option代表操作类型，缺省只对第一个匹配的字符进行替换，g代表全局替换,c代表操作时确认，gc可以组合使用

以下提供几个例子.

:s/aa/bb/g       将光标所在行出现的所有包含 aa 的字符串中的 aa 替换为 bb
:%s/aa/bb/g      将文档中出现的所有包含 aa 的字符串中的 aa 替换为 bb
:12,23s/aa/bb/g  将从12行到23行中出现的所有包含 aa 的字符串中的 aa 替换为 bb
:%s/^/#/         全文的行首加入 # 字符,批量注释的时候非常有用
:%s= *$==        将所有行尾多余的空格删除
:g/^$/d          这里的g表示对文章中所有符合要求字符串执行替换操作，^表示行首,$表示行尾，整个意思是：将所有的空行删除.

上一篇主要讲解了Vim的翻页（整页，半页，往上，往下），移动（单词，在一行中），拷贝（主要是y的各种组合）删除（主要是d的各种组合），今天主要简要讲解一下vim的配置（直接在当前session中通过命令配置）以及简单的搜索功能。
配置

注：以下配置只能在当前vim窗口（Session）中生效，以后我们再了解如何在把这些设置写入配置文件中。

:set filetype=python   #设置默认语言
:set tabstop=4   #设置tab默认为4个空格
：set nu     #vim窗口左侧显示行号
：set ruler  #在vim窗口显示当前光标位置

如果是撤销以上配置，只需在命令前加no即可，如：:set nonu 就是取消显示行号
撤销恢复

vim本身提供了一个vimtutor的命令，旨在为用户练习，可以随意操作，在终端输入vimtotur en就能打开英文的文本界面。

    撤销工作：u（前提是在normal模式下）怎么确定当前的操作是不是normal呢，按一下esc键，如果不确定是否已经是normal，那就多按几下esc。 如果发现自己撤销的时候撤销过了头，那么ctrl +r 就可以实现重做
    命令计数器： 前面知道了翻页的操作，那么我想具体的往上或往下移动那个光标呢，那么你可以使用命令计数器来实现，如果我要向上移动8行，那么直接8k就ok了。
    写程序时经常会寻找匹配的括号，用%就是实现该效果。

光标移动，以及一些基本的文本操作命令。
---------------------------------------

<pre>
CTRL+f：向下翻一页
CTRL+b：向上翻一页
CTRL+d：向下翻半页
CTRL+u：向上翻半页

// w和W的区别，w会把一个单词理解成由连续的字母或数字或特殊字符，而W却以空格来识别是否到了下一个单词
w：移动到下一个单词的起始处（既然是w，代表的意思就是word，好记吧）
W：移动到下一个单词的起始处
b：移动到前一个单词的起始处
B：移动到前一个单词的起始处（b和B的区别与w和W是同理的）

// 光标在一行内的移动
0：移动到行首
$：移动到行未
^：移动到当前行的第一个非空字符处（如果该行首没有空格，那么效果与0是一样的）
g_：移动到当前行的最后一个非空格字符处

// 插入，追加字符
i：在当前光标位置插入字符
o：在当前行往下插入新的一空行
O：在当前行往上插入新的一空行
a：在当前光标后追加字符
R：替换当前光标的字符直到推出插入模式（按ESC）
:r filename：把文件名为filename的内容插入当当前行的下一行
:r! command：把command返回的结果插入到当前行的下一行

// 拷贝一个单词、行首、行尾、整行
yw：拷贝当前的一个单词
y0：拷贝的范围是当前光标处到行首
y$：拷贝的范围是当前光标处到行尾
yy：拷贝当前行
nyy：从当前行开始拷贝n行（这里的n是数字）

拷贝完后用p就可以粘贴了。
删除一个单词，行首、行尾、整行

x：删除当前光标处字符（严格来说x不属于插入，因为你还要按i才能插入）
dw：删除当前光标出一个单词
d0：删除光标处到行首的字符
d$：删除光标处到行尾的字符
dd：删除整行
ndd：删除n行（同样n代表数字）                                                                   
